# HospitalFloor3DModel Readme

## 1. Associated user stories

* **US 6.1.3** - As healthcare staff I want the information show on the 3D visualization module
about room availability is in sync with the schedule that was generated by the
planning module. (#28)

* **US 6.5.1** - As a healthcare staff member, I want to see a 3D representation of the hospital/clinic floor. Its description should be imported from a JSON (JavaScript Object Notation) formatted file. The floor must consist of several surgical rooms. Each room must be enclosed by walls and include a door and a surgical table. There should be no representation of the ceiling. If a room is being used at any given time, a 3D model of a human body should be lying on the table. Models can either be created or imported. (#63)

* **US 6.5.2** - As a healthcare staff member, I want to see appropriate textures (that is, suitable for use in representing a hospital or clinic) mapped onto the floor, walls, and so on. (#64)

* **US 6.5.3** - As a healthcare staff member, I want to see the hospital/clinic floor illuminated with ambient and directional light. (#65)

* **US 6.5.4** - As a healthcare staff member, I want to control the camera with the mouse. (#66) Controls can either be created or imported (e.g., three.js addon OrbitControls or equivalent):
  * Left button: unused for now. It will be defined in the next sprint
  * Right button: orbit
  * Wheel: Zoom or dolly

------------------------------------------------

## 2. Customer specifications and clarifications

**[28 de October de 2024]**

* **Question:** Is it possible to explain a little more? For example, how does the JSON look like(example), and how it affects the visualization of the room.

  * **Answer:** It's up to you to decide how the JSON file looks like. As an example, I suggest the contents of file "Loquitas.json" in project "Basic Thumb Raiser".

**[5 de November de 2024]**

* **Question:** In this sprint there are 2 methods to get the operations schedule of a room: the better one and the good one.

The Admin has access to both methods, but both decide the room schedules, therefore affecting the room availability.

Is there a way to know which method is used to actually determine the room availability and operation scheduling, so that the data in the 3D visualization module is in sync with the Planning module?

  * **Answer:** the user can select which method to use to generate the schedule of a certain time-period. after the schedule is generated, the data about room availability for those days must be updated.
if the user runs the the scheduling again for the same time period, using a different algorithm or not, the new/updated schedule must be used to update the room's availability

**[5 de November de 2024]**

* **Question:** What information is expected to come from the planning module that is to be visualized in the 3D representation? Do we assume that, at the moment, the only information that is showned is the room ID and a human in the surgical table if the room is currently being occupied?

  * **Answer:** the system must show if the room is occupied or not. the occupancy of a room is a result of the scheduling done by the planning module.
if a room is occupied, the system must show a 3D human model and a tooltip with the informaiton about the surgery type and operation request. preferably, the tooltip should act as a link to the operation detail page where the user can see all the details of the operation.

The user must have a way to "set" the current time of the visualization. that is, the 3D visualization module must not depend directly on the PC clock


**[6 de November de 2024]**

* **Question:** the US 6.5.1 states "The floor must consist of several surgical rooms". For how many rooms exactly should we do the 3d representation?

  * **Answer:** The number of operating rooms in the 3D Visualization Module must be consistent with the number of rooms that can be scheduled in the Planning/Optimization Module.

**[9 de November de 2024]** 

* **Question:** As was stated previously, the number of rooms in the 3D representation must be consistent with the number of rooms that can be scheduled in the Planning/Optimization Module.

However, let's say that, while we have the 3D representation open, someone creates a new Surgery Room. Must that new room be loaded dynamically?

  * **Answer:** it is not necessary to do it "hot wired".
the next time the 3D view is loaded it should pickup the new surgery room.
keep in mind that creating a new surgery room is not something that happens frequently...

------------------------------------------------

## 3. Acceptance Criteria 

### **_6.1.8_**
TO_DO

### **_6.5.1_**

- The 3D representation of the hospital/clinic floor is imported from a JSON file.
- The floor consists of several surgical rooms, each enclosed by walls and including a door and a surgical table.
- There is no representation of the ceiling.
- If a room is being used, a 3D model of a human body is lying on the table.
- Models can either be created or imported.

------------------------------------------------

### **_6.5.2_**

- Appropriate textures are mapped onto the floor, walls, and other surfaces.
- Textures are suitable for representing a hospital or clinic environment.

------------------------------------------------

### **_6.5.3_**

- The hospital/clinic floor is illuminated with ambient and directional light.
- Lighting enhances the visibility and realism of the 3D model.

------------------------------------------------

### **_6.5.4_**

- The camera can be controlled with the mouse.
- Controls include:
  * Left button: unused for now.
  * Right button: orbit.
  * Wheel: Zoom or dolly.
- Controls can either be created or imported (e.g., three.js addon OrbitControls or equivalent).

------------------------------------------------

## 4. Input and Output Data

### **_6.1.8_**
TO_DO

### **_6.5.1_**

* Input Data:
  * JSON file describing the hospital/clinic floor.
* Output Data:
  * 3D representation of the hospital/clinic floor.

------------------------------------------------

### **_6.5.2_**

* Input Data:
  * Textures for the floor, walls, and other surfaces.
* Output Data:
  * Textured 3D model of the hospital/clinic floor.

------------------------------------------------

### **_6.5.3_**

* Input Data:
  * Lighting settings for ambient and directional light.
* Output Data:
  * Illuminated 3D model of the hospital/clinic floor.

------------------------------------------------

### **_6.5.4_**

* Input Data:
  * Mouse input for camera control.
* Output Data:
  * Camera movements in the 3D model.

------------------------------------------------

## 5. Use Cases



------------------------------------------------

## 6. General Information
**_Hospital Floor 3D Model:_** Represents the 3D visualization of the hospital or clinic floor.

* Attributes:
  * `Rooms` (list of surgical rooms)
  * `Walls` (enclosing each room)
  * `Doors` (entry points to each room)
  * `Surgical Tables` (one per room)
  * `Human Body Model` (optional, if the room is in use)
  * `Textures` (mapped onto surfaces)
  * `Lighting` (ambient and directional)
  * `Camera Controls` (mouse-based)

* Rules:
  * The JSON file must accurately describe the layout and contents of the hospital/clinic floor.
  * Textures must be appropriate for a medical environment.
  * Lighting must enhance visibility and realism.
  * Camera controls must be intuitive and responsive.

------------------------------------------------

## 7. Dependency

## **_6.1.8_**
- Depends on the Planing module and the SurgicalRoom implementation in the Backend.

### **_6.5.1_**
- Depends on the availability of a JSON file describing the hospital/clinic floor.
- Depends on 3D models for rooms, walls, doors, surgical tables, and human bodies.
- Depends on the Planing module and the SurgicalRoom implementation in the Backend.

### **_6.5.2_**
- Depends on the availability of appropriate textures for the 3D model.

### **_6.5.3_**
- Depends on the configuration of ambient and directional lighting.

### **_6.5.4_**
- Depends on the implementation or import of camera controls.